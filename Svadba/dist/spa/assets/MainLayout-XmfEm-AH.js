import{u as ue,a as de,Q as O,b as R}from"./QBtn-Dh-Hf4kD.js";import{c as P,a as g,h as z,g as Q,i as fe,e as H,l as ae,p as ie,b as ve,w as I,o as B,d as M,n as se,f as V,r as q,j as re,k as K,m as E,q as me,s as he,t as ge,_ as pe,u as W,v as T,x as _,y as ye,z as f,A as v,B as j,C as J,F as G,D as X,E as be,G as xe,H as Y,I as we,J as Z}from"./index-B8tCmW-y.js";import{h as Se,a as ze,b as qe}from"./render-ceMtRdhF.js";import{u as _e,a as ke,s as Ce,g as Le,b as $e,c as Te,d as F,e as Pe,f as Re,Q as ee,h as U,i as Qe,j as Ee,k as je}from"./QDialog-tX4oxFra.js";import{Q as Ue}from"./QPage-DGMP6FoJ.js";const Oe=P({name:"QAvatar",props:{...ue,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:s}){const o=de(e),t=g(()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(e.square===!0?" q-avatar--square":e.rounded===!0?" rounded-borders":"")),n=g(()=>e.fontSize?{fontSize:e.fontSize}:null);return()=>{const r=e.icon!==void 0?[z(O,{name:e.icon})]:void 0;return z("div",{class:t.value,style:o.value},[z("div",{class:"q-avatar__content row flex-center overflow-hidden",style:n.value},Se(s.default,r))])}}}),Be={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},N={xs:2,sm:4,md:8,lg:16,xl:24},De=P({name:"QSeparator",props:{..._e,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const s=Q(),o=ke(e,s.proxy.$q),t=g(()=>e.vertical===!0?"vertical":"horizontal"),n=g(()=>` q-separator--${t.value}`),r=g(()=>e.inset!==!1?`${n.value}-${Be[e.inset]}`:""),d=g(()=>`q-separator${n.value}${r.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(o.value===!0?" q-separator--dark":"")),b=g(()=>{const a={};if(e.size!==void 0&&(a[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const i=e.spaced===!0?`${N.md}px`:e.spaced in N?`${N[e.spaced]}px`:e.spaced,y=e.vertical===!0?["Left","Right"]:["Top","Bottom"];a[`margin${y[0]}`]=a[`margin${y[1]}`]=i}return a});return()=>z("hr",{class:d.value,style:b.value,"aria-orientation":t.value})}}),He=P({name:"QPageContainer",setup(e,{slots:s}){const{proxy:{$q:o}}=Q(),t=fe(ae,H);if(t===H)return console.error("QPageContainer needs to be child of QLayout"),H;ie(ve,!0);const n=g(()=>{const r={};return t.header.space===!0&&(r.paddingTop=`${t.header.size}px`),t.right.space===!0&&(r[`padding${o.lang.rtl===!0?"Left":"Right"}`]=`${t.right.size}px`),t.footer.space===!0&&(r.paddingBottom=`${t.footer.size}px`),t.left.space===!0&&(r[`padding${o.lang.rtl===!0?"Right":"Left"}`]=`${t.left.size}px`),r});return()=>z("div",{class:"q-page-container",style:n.value},ze(s.default))}}),{passive:te}=V,Fe=["both","horizontal","vertical"],Ne=P({name:"QScrollObserver",props:{axis:{type:String,validator:e=>Fe.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:Ce},emits:["scroll"],setup(e,{emit:s}){const o={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let t=null,n,r;I(()=>e.scrollTarget,()=>{a(),b()});function d(){t?.();const p=Math.max(0,$e(n)),$=Te(n),x={top:p-o.position.top,left:$-o.position.left};if(e.axis==="vertical"&&x.top===0||e.axis==="horizontal"&&x.left===0)return;const m=Math.abs(x.top)>=Math.abs(x.left)?x.top<0?"up":"down":x.left<0?"left":"right";o.position={top:p,left:$},o.directionChanged=o.direction!==m,o.delta=x,o.directionChanged===!0&&(o.direction=m,o.inflectionPoint=o.position),s("scroll",{...o})}function b(){n=Le(r,e.scrollTarget),n.addEventListener("scroll",i,te),i(!0)}function a(){n!==void 0&&(n.removeEventListener("scroll",i,te),n=void 0)}function i(p){if(p===!0||e.debounce===0||e.debounce==="0")d();else if(t===null){const[$,x]=e.debounce?[setTimeout(d,e.debounce),clearTimeout]:[requestAnimationFrame(d),cancelAnimationFrame];t=()=>{x($),t=null}}}const{proxy:y}=Q();return I(()=>y.$q.lang.rtl,d),B(()=>{r=y.$el.parentNode,b()}),M(()=>{t?.(),a()}),Object.assign(y,{trigger:i,getPosition:()=>o}),se}});function Ie(){const e=q(!re.value);return e.value===!1&&B(()=>{e.value=!0}),{isHydrated:e}}const ce=typeof ResizeObserver<"u",oe=ce===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},ne=P({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:s}){let o=null,t,n={width:-1,height:-1};function r(a){a===!0||e.debounce===0||e.debounce==="0"?d():o===null&&(o=setTimeout(d,e.debounce))}function d(){if(o!==null&&(clearTimeout(o),o=null),t){const{offsetWidth:a,offsetHeight:i}=t;(a!==n.width||i!==n.height)&&(n={width:a,height:i},s("resize",n))}}const{proxy:b}=Q();if(b.trigger=r,ce===!0){let a;const i=y=>{t=b.$el.parentNode,t?(a=new ResizeObserver(r),a.observe(t),d()):y!==!0&&K(()=>{i(!0)})};return B(()=>{i()}),M(()=>{o!==null&&clearTimeout(o),a!==void 0&&(a.disconnect!==void 0?a.disconnect():t&&a.unobserve(t))}),se}else{let a=function(){o!==null&&(clearTimeout(o),o=null),p!==void 0&&(p.removeEventListener!==void 0&&p.removeEventListener("resize",r,V.passive),p=void 0)},i=function(){a(),t?.contentDocument&&(p=t.contentDocument.defaultView,p.addEventListener("resize",r,V.passive),d())};const{isHydrated:y}=Ie();let p;return B(()=>{K(()=>{t=b.$el,t&&i()})}),M(a),()=>{if(y.value===!0)return z("object",{class:"q--avoid-card-border",style:oe.style,tabindex:-1,type:"text/html",data:oe.url,"aria-hidden":"true",onLoad:i})}}}}),Me=P({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:s,emit:o}){const{proxy:{$q:t}}=Q(),n=q(null),r=q(t.screen.height),d=q(e.container===!0?0:t.screen.width),b=q({position:0,direction:"down",inflectionPoint:0}),a=q(0),i=q(re.value===!0?0:F()),y=g(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),p=g(()=>e.container===!1?{minHeight:t.screen.height+"px"}:null),$=g(()=>i.value!==0?{[t.lang.rtl===!0?"left":"right"]:`${i.value}px`}:null),x=g(()=>i.value!==0?{[t.lang.rtl===!0?"right":"left"]:0,[t.lang.rtl===!0?"left":"right"]:`-${i.value}px`,width:`calc(100% + ${i.value}px)`}:null);function m(l){if(e.container===!0||document.qScrollPrevented!==!0){const h={position:l.position.top,direction:l.direction,directionChanged:l.directionChanged,inflectionPoint:l.inflectionPoint.top,delta:l.delta.top};b.value=h,e.onScroll!==void 0&&o("scroll",h)}}function c(l){const{height:h,width:S}=l;let C=!1;r.value!==h&&(C=!0,r.value=h,e.onScrollHeight!==void 0&&o("scrollHeight",h),w()),d.value!==S&&(C=!0,d.value=S),C===!0&&e.onResize!==void 0&&o("resize",l)}function u({height:l}){a.value!==l&&(a.value=l,w())}function w(){if(e.container===!0){const l=r.value>a.value?F():0;i.value!==l&&(i.value=l)}}let k=null;const L={instances:{},view:g(()=>e.view),isContainer:g(()=>e.container),rootRef:n,height:r,containerHeight:a,scrollbarWidth:i,totalWidth:g(()=>d.value+i.value),rows:g(()=>{const l=e.view.toLowerCase().split(" ");return{top:l[0].split(""),middle:l[1].split(""),bottom:l[2].split("")}}),header:E({size:0,offset:0,space:!1}),right:E({size:300,offset:0,space:!1}),footer:E({size:0,offset:0,space:!1}),left:E({size:300,offset:0,space:!1}),scroll:b,animate(){k!==null?clearTimeout(k):document.body.classList.add("q-body--layout-animate"),k=setTimeout(()=>{k=null,document.body.classList.remove("q-body--layout-animate")},155)},update(l,h,S){L[l][h]=S}};if(ie(ae,L),F()>0){let l=function(){C=null,D.classList.remove("hide-scrollbar")},h=function(){if(C===null){if(D.scrollHeight>t.screen.height)return;D.classList.add("hide-scrollbar")}else clearTimeout(C);C=setTimeout(l,300)},S=function(A){C!==null&&A==="remove"&&(clearTimeout(C),l()),window[`${A}EventListener`]("resize",h)},C=null;const D=document.body;I(()=>e.container!==!0?"add":"remove",S),e.container!==!0&&S("add"),me(()=>{S("remove")})}return()=>{const l=qe(s.default,[z(Ne,{onScroll:m}),z(ne,{onResize:c})]),h=z("div",{class:y.value,style:p.value,ref:e.container===!0?void 0:n,tabindex:-1},l);return e.container===!0?z("div",{class:"q-layout-container overflow-hidden",ref:n},[z(ne,{onResize:u}),z("div",{class:"absolute-full",style:$.value},[z("div",{class:"scroll",style:x.value},[h])])]):h}}});function le(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const s=parseInt(e,10);return isNaN(s)?0:s}const Ve=he({name:"close-popup",beforeMount(e,{value:s}){const o={depth:le(s),handler(t){o.depth!==0&&setTimeout(()=>{const n=Pe(e);n!==void 0&&Re(n,t,o.depth)})},handlerKey(t){ge(t,13)===!0&&o.handler(t)}};e.__qclosepopup=o,e.addEventListener("click",o.handler),e.addEventListener("keyup",o.handlerKey)},updated(e,{value:s,oldValue:o}){s!==o&&(e.__qclosepopup.depth=le(s))},beforeUnmount(e){const s=e.__qclosepopup;e.removeEventListener("click",s.handler),e.removeEventListener("keyup",s.handlerKey),delete e.__qclosepopup}}),Ae={class:"hero q-pa-lg column flex flex-center"},Ke={class:"text-center"},We={class:"row q-col-gutter-md justify-center"},Je={class:"text-center q-mt-md"},Ge={key:0,class:"overlay"},Xe={class:"loader-container column items-center"},Ye={class:"hearts-loader"},Ze={class:"progress-container q-mt-md"},et={class:"text-caption text-pink-8 q-mt-xs"},tt={__name:"MainLayout",setup(e){const s=q(!1),o=q(null),t=q([]),n=q([]),r=q(!1),d=q(0),b=ye();function a(){o.value.click()}function i(){b.push("/gallery")}function y(m){const c=Array.from(m.target.files);t.value.push(...c);const u=c.map(w=>URL.createObjectURL(w));n.value.push(...u)}function p(m){t.value.splice(m,1),URL.revokeObjectURL(n.value[m]),n.value.splice(m,1)}async function $(m,c){try{const u=await fetch("https://bojan.pythonanywhere.com/add_event",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event_name:m,ImageURL:c})});if(!u.ok){const k=await u.json();throw new Error(k.error||"Unknown backend error")}const w=await u.json();return console.log("Success:",w.message),w.message}catch(u){throw console.error("Request failed:",u),u}}async function x(){if(!t.value.length){alert("–í–µ –º–æ–ª–∞–º, –ø—Ä–≤–æ –∏–∑–±–µ—Ä–µ—Ç–µ –Ω–µ–∫–æ–∏ —Å–ª–∏–∫–∏.");return}const m=t.value.slice(0,20),c=m.map(u=>u.name);r.value=!0,d.value=0;try{const u=await fetch("https://mjvwsyxyzc.execute-api.eu-north-1.amazonaws.com/default/svadbaLambdaFunction",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filenames:c})});if(!u.ok)throw new Error("–ù–µ—É—Å–ø–µ—à–Ω–æ –ø–æ–≤—Ä–∑—É–≤–∞—ö–µ —Å–æ —Å–µ—Ä–≤–µ—Ä–æ—Ç");const w=await u.json();let k=0;for(let L=0;L<m.length;L++){const l=m[L],h=w.urls[L]?.upload_url;if(!h)throw new Error(`–ù–µ–º–∞ URL –∑–∞ ${l.name}`);try{const S=await fetch(h,{method:"PUT",headers:{"Content-Type":l.type},body:l});S.ok?$("Svadba",l.name):console.error(`Upload failed for ${l.name} with status ${S.status}`),k++,d.value=k/m.length*100}catch(S){console.error(`Error uploading ${l.name}:`,S)}}s.value=!0,n.value.forEach(L=>URL.revokeObjectURL(L)),n.value=[],t.value=[],o.value.value=""}catch(u){console.error(u),alert("–ù–µ—É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–∫–∞—á—É–≤–∞—ö–µ. –û–±–∏–¥–µ—Ç–µ —Å–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ.")}finally{r.value=!1,d.value=0}}return(m,c)=>(T(),W(Me,{view:"lHh Lpr lFf"},{default:_(()=>[f(He,null,{default:_(()=>[f(Ue,{class:"wedding-page column flex flex-center"},{default:_(()=>[v("div",Ae,[f(Oe,{size:"80px",class:"bg-pink-4 text-white shadow-4"},{default:_(()=>[f(O,{name:"favorite",size:"40px"})]),_:1}),c[1]||(c[1]=v("h1",{class:"text-h4 text-bold text-gold q-mt-md wedding-title"}," –í–∞–ª–µ–Ω—Ç–∏–Ω–∞ & –ë–µ—Ä–∫ ",-1)),c[2]||(c[2]=v("div",{class:"text-subtitle2 text-grey-9 q-mt-xs"}," üíç –°–≤–∞–¥–±–µ–Ω–∏ —Å–ø–æ–º–µ–Ω–∏ ‚Äì 2025 ",-1))]),f(ee,{flat:"",bordered:"",class:"upload-card q-mt-xl q-pa-md"},{default:_(()=>[f(U,null,{default:_(()=>[v("div",Ke,[f(O,{name:"photo_camera",size:"40px",class:"text-pink-6"}),c[3]||(c[3]=v("h2",{class:"text-h6 text-bold q-mt-sm"},"–°–ø–æ–¥–µ–ª–∏ —Å–ª–∏–∫–∏",-1)),c[4]||(c[4]=v("p",{class:"text-body2 text-grey-7 q-mt-xs"}," –¢–≤–æ–∏—Ç–µ —Å–ª–∏–∫–∏ —Å–µ –¥–µ–ª –æ–¥ –Ω–∞—à–∞—Ç–∞ –ø—Ä–∏–∫–∞–∑–Ω–∞. –°–ø–æ–¥–µ–ª–∏ –≥–∏ —Å–æ –Ω–∞—Å, –∑–∞ –¥–∞ –≥–∏ –ø–æ–º–Ω–∏–º–µ –∑–∞—Å–µ–∫–æ–≥–∞—à. ",-1))])]),_:1}),f(De,{spaced:""}),f(U,{class:"text-center"},{default:_(()=>[f(R,{color:"pink-6","text-color":"white",label:"–ò–∑–±–µ—Ä–∏ —Å–ª–∏–∫–∏",icon:"photo_camera",onClick:a}),f(R,{color:"pink-6","text-color":"white",label:"–ì–∞–ª–µ—Ä–∏—ò–∞",icon:"photo_library",class:"q-mt-sm",onClick:i}),v("input",{ref_key:"fileInput",ref:o,type:"file",accept:"image/*",multiple:"",style:{display:"none"},onChange:y},null,544)]),_:1}),n.value.length>0?(T(),W(U,{key:0},{default:_(()=>[v("div",We,[(T(!0),j(G,null,X(n.value,(u,w)=>(T(),j("div",{key:w,class:be(["col-4 q-mb-md relative-position preview-img",{dimmed:w>=20}])},[f(Qe,{src:u,"spinner-color":"pink-6",style:{"border-radius":"12px",height:"100px","object-fit":"cover"}},null,8,["src"]),f(R,{dense:"",round:"",flat:"",color:"negative",icon:"close",size:"sm",class:"remove-btn",onClick:k=>p(w)},null,8,["onClick"])],2))),128))]),v("div",Je,[f(R,{color:"pink-6","text-color":"white",label:"–ò—Å–ø—Ä–∞—Ç–∏ —Å–ª–∏–∫–∏",icon:"send",onClick:x})])]),_:1})):J("",!0)]),_:1}),f(Ee,{modelValue:s.value,"onUpdate:modelValue":c[0]||(c[0]=u=>s.value=u)},{default:_(()=>[f(ee,{class:"q-pa-md text-center"},{default:_(()=>[f(U,null,{default:_(()=>[f(O,{name:"check_circle",size:"48px",class:"text-green-6 q-mb-sm"}),c[5]||(c[5]=v("div",{class:"text-h6 text-bold"},"–°–ª–∏–∫–∏—Ç–µ —Å–µ –ø—Ä–∏–∫–∞—á–µ–Ω–∏! üéâ",-1)),c[6]||(c[6]=v("p",{class:"text-body2 text-grey-8 q-mt-xs"}," –¢–∏ –±–ª–∞–≥–æ–¥–∞—Ä–∏–º–µ —à—Ç–æ –≥–∏ —Å–ø–æ–¥–µ–ª–∏ —Ç–≤–æ–∏—Ç–µ —Å–ø–æ–º–µ–Ω–∏ —Å–æ –Ω–∞—Å! ",-1))]),_:1}),f(je,{align:"center"},{default:_(()=>[xe(f(R,{flat:"",color:"pink-6",label:"–ó–∞—Ç–≤–æ—Ä–∏"},null,512),[[Ve]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),r.value?(T(),j("div",Ge,[v("div",Xe,[v("div",Ye,[(T(),j(G,null,X(3,u=>v("div",{class:"heart",key:u,style:Y({animationDelay:(u-1)*.3+"s"})},null,4)),64))]),v("div",Ze,[v("div",{class:"progress-bar",style:Y({width:d.value+"%"})},null,4)]),v("div",et,we(Math.round(d.value))+"%",1)])])):J("",!0),c[7]||(c[7]=v("div",{class:"footer q-mt-xl text-center"},[v("p",{class:"text-caption text-grey-6"},[Z(" –°–æ —ô—É–±–æ–≤, "),v("br"),Z(" –í–∞–ª–µ–Ω—Ç–∏–Ω–∞ & –ë–µ—Ä–∫ üíï ")])],-1))]),_:1})]),_:1})]),_:1}))}},st=pe(tt,[["__scopeId","data-v-aa1d9f8d"]]);export{st as default};
